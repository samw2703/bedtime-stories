<!--npx serve . to run-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random Story</title>
  <script src="stories.js"></script>
  <script src="rssFeeds.js"></script>
  <script>
    async function goToRandomThing() {
      window.location.href = await getRandomStoryUrl();
    }

    async function getRandomStoryUrl() {
      const source = getRandomSource();
      return await getRandomUrl(source);
    }

    function getRandomSource() {
      const sources = ["urls", "bbc"];
      return sources[Math.floor(Math.random() * sources.length)];
    }

    async function getRandomUrl(source) {
      if (source === "urls")
        return pickRandomStory();

      if (source === "bbc")
        return await getRandomArticle('https://feeds.bbci.co.uk/news/rss.xml');

      return "";
    }
  </script>
</head>
<body>
  <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
    <button 
      onclick="goToRandomThing()" 
      style="
        background-color: #28a745;
        color: white;
        font-size: 2rem;
        padding: 1.5rem 3rem;
        border: none;
        border-radius: 2rem;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        transition: background 0.2s;
        width: 90vw;
        max-width: 400px;
      ">
      Reading Time!
    </button>
  </div>
  <style>
    @media (max-width: 600px) {
      button {
        font-size: 1.2rem !important;
        padding: 1rem 1.5rem !important;
        border-radius: 1rem !important;
      }
      div {
        height: 80vh !important;
      }
    }
  </style>
</body>
</html>
